--SQLite script file to create the Str BMP Options Model
--version: v0.01
--by: Jon Honda
--date: 12/8/17



CREATE TABLE base_bmps( --table defining bmp technologies
  base_bmp_id INTEGER PRIMARY KEY,
  bmp_name TEXT,
  bmp_removal_rates_id INTEGER,
  cip_expression_id INTEGER,
  om_expression_id INTEGER,
  facility_id INTEGER,
  FOREIGN KEY (facility_id) REFERENCES facilities(facility_id)
);

CREATE TABLE bmp_facility_test_definitions( --table holding facility-bmp feasibility test definitions
  bmp_facility_test_definition_id INTEGER PRIMARY KEY,
  base_bmp_id INTEGER, --FK reference to the base bmp primary key
  facility_available_value_variable TEXT, --quantity available at facility we will test
  test_less_eq_gtr TEXT, -- CAN BE <, =, or >  compares quantity available at facility versus quantity BMP requires
  bmp_required_Value_expression_id INTEGER, --FK reference to the expressions. table.  The expression defining how much quantity BMP needs
  description TEXT
);


CREATE TABLE facilities ( --table holding facility definitions
  facility_id INTEGER PRIMARY KEY,
  facility_name TEXT,
  wrs_pollutant_risks_id INTEGER
);
